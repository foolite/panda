if(typeof Array.prototype.indexOf!="function"){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]===b){return a}}return -1}}if(typeof Array.prototype.contains!="function"){Array.prototype.contains=function(a){return this.indexOf(a)>=0}}if(typeof Array.prototype.each!="function"){Array.prototype.each=function(d,b){b=b||window;for(var a=0;a<this.length;a++){if(d.call(b,this[a])===false){break}}}}if(typeof Array.prototype.find!="function"){Array.prototype.find=function(d,b){b=b||window;for(var a=0;a<this.length;a++){if(d.call(b,this[a])){return this[a]}}return null}}if(typeof Array.prototype.empty!="function"){Array.prototype.empty=function(){for(var a=0;a<=this.length;a++){this.shift()}}}if(typeof Array.prototype.remove!="function"){Array.prototype.remove=function(b){for(var a=this.length-1;a>=0;a--){if(this[a]===b){this.splice(a,1)}}}}if(typeof Array.prototype.removeDuplicates!="function"){Array.prototype.removeDuplicates=function(){for(var b=0;b<this.length;b++){for(var a=this.length-1;a>b;a--){if(this[b]===this[a]){this.splice(a,1)}}}}}if(typeof Date.prototype.format!="function"){Date.prototype.format=function(a){return(new DateFormat(a)).format(this)}}var DateFormat=function(a){this._init(a)};DateFormat.prototype={_init:function(e){this.pattern=e;this._patterns=[];for(var b=0;b<e.length;b++){var d=e.charAt(b);if(this._patterns.length==0){this._patterns[0]=d}else{var a=this._patterns.length-1;if(this._patterns[a].charAt(0)=="'"){if(this._patterns[a].length==1||this._patterns[a].charAt(this._patterns[a].length-1)!="'"){this._patterns[a]+=d}else{this._patterns[a+1]=d}}else{if(this._patterns[a].charAt(0)==d){this._patterns[a]+=d}else{this._patterns[a+1]=d}}}}},format:function(b){var a=[];for(var d=0;d<this._patterns.length;d++){a[d]=this._formatWord(b,this._patterns[d])}return a.join("")},_formatWord:function(a,d){var b=this._formatter[d.charAt(0)];if(b){return b.apply(this,[a,d])}else{return d}},_formatter:{y:function(a,d){var b=String(a.getFullYear());if(d.length<=2){b=b.substring(2,4)}else{b=this._zeroPadding(b,d.length)}return b},M:function(a,b){return this._zeroPadding(String(a.getMonth()+1),b.length)},d:function(a,b){return this._zeroPadding(String(a.getDate()),b.length)},H:function(a,b){return this._zeroPadding(String(a.getHours()),b.length)},h:function(a,d){var b=a.getHours();b=b>12?b-12:(b==0?12:b);return this._zeroPadding(String(b),d.length)},m:function(a,b){return this._zeroPadding(String(a.getMinutes()),b.length)},s:function(a,b){return this._zeroPadding(String(a.getSeconds()),b.length)},S:function(a,b){return this._zeroPadding(String(a.getMilliseconds()),b.length)},"'":function(a,b){if(b=="''"){return"'"}else{return b.replace(/'/g,"")}}},_zeroPadding:function(b,a){if(b.length>=a){return b}return new Array(a-b.length+1).join("0")+b},parse:function(d){if(typeof d!="string"||d==""){return null}var a={year:1970,month:1,day:1,hour:0,min:0,sec:0,msec:0};for(var b=0;b<this._patterns.length;b++){if(d==""){return null}d=this._parseWord(d,this._patterns[b],a);if(d===null){return null}}if(d!=""){return null}return new Date(a.year,a.month-1,a.day,a.hour,a.min,a.sec,a.msec)},_parseWord:function(d,b,a){var e=this._parser[b.charAt(0)];if(e){return e.apply(this,[d,b,a])}else{if(d.indexOf(b)!=0){return null}else{return d.substring(b.length)}}},_parser:{y:function(f,e,a){var b;if(e.length<=2){b=f.substring(0,2);b=b<70?"20"+b:"19"+b;f=f.substring(2)}else{var d=(e.length==3)?4:e.length;b=f.substring(0,d);f=f.substring(d)}if(!this._isNumber(b)){return null}a.year=parseInt(b,10);return f},M:function(e,b,a){var d;if(b.length==1&&e.length>1&&e.substring(0,2).match(/1[0-2]/)!=null){d=e.substring(0,2);e=e.substring(2)}else{d=e.substring(0,b.length);e=e.substring(b.length)}if(!this._isNumber(d)){return null}a.month=parseInt(d,10);return e},d:function(e,d,a){var b;if(d.length==1&&e.length>1&&e.substring(0,2).match(/1[0-9]|2[0-9]|3[0-1]/)!=null){b=e.substring(0,2);e=e.substring(2)}else{b=e.substring(0,d.length);e=e.substring(d.length)}if(!this._isNumber(b)){return null}a.day=parseInt(b,10);return e},H:function(e,d,a){var b;if(d.length==1&&e.length>1&&e.substring(0,2).match(/1[0-9]|2[0-3]/)!=null){b=e.substring(0,2);e=e.substring(2)}else{b=e.substring(0,d.length);e=e.substring(d.length)}if(!this._isNumber(b)){return null}a.hour=parseInt(b,10);return e},h:function(e,d,a){var b;if(d.length==1&&e.length>1&&e.substring(0,2).match(/1[0-2]/)!=null){b=e.substring(0,2);e=e.substring(2)}else{b=e.substring(0,d.length);e=e.substring(d.length)}if(!this._isNumber(b)){return null}a.hour=parseInt(b,10);return e},m:function(e,d,a){var b;if(d.length==1&&e.length>1&&e.substring(0,2).match(/[1-5][0-9]/)!=null){b=e.substring(0,2);e=e.substring(2)}else{b=e.substring(0,d.length);e=e.substring(d.length)}if(!this._isNumber(b)){return null}a.min=parseInt(b,10);return e},s:function(e,d,a){var b;if(d.length==1&&e.length>1&&e.substring(0,2).match(/[1-5][0-9]/)!=null){b=e.substring(0,2);e=e.substring(2)}else{b=e.substring(0,d.length);e=e.substring(d.length)}if(!this._isNumber(b)){return null}a.sec=parseInt(b,10);return e},S:function(e,b,a){var d;if(b.length==1||b.length==2){if(e.length>2&&e.substring(0,3).match(/[1-9][0-9][0-9]/)!=null){d=e.substring(0,3);e=e.substring(3)}else{if(e.length>1&&e.substring(0,2).match(/[1-9][0-9]/)!=null){d=e.substring(0,2);e=e.substring(2)}else{d=e.substring(0,b.length);e=e.substring(b.length)}}}else{d=e.substring(0,b.length);e=e.substring(b.length)}if(!this._isNumber(d)){return null}a.msec=parseInt(d,10);return e},"'":function(d,b,a){if(b=="''"){b="'"}else{b=b.replace(/'/g,"")}if(d.indexOf(b)!=0){return null}else{return d.substring(b.length)}}},_isNumber:function(a){return/^[0-9]*$/.test(a)}};if(typeof Function.prototype.createCallback!="function"){Function.prototype.createCallback=function(){var a=arguments;var b=this;return function(){return b.apply(window,a)}}}if(typeof Function.prototype.createDelegate!="function"){Function.prototype.createDelegate=function(d,b,a){var e=this;return function(){var g=b||arguments;if(a===true){g=Array.prototype.slice.call(arguments,0);g=g.concat(b)}else{if(typeof a=="number"){g=Array.prototype.slice.call(arguments,0);var f=[a,0].concat(b);Array.prototype.splice.apply(g,f)}}return e.apply(d||window,g)}}}if(typeof Function.prototype.defer!="function"){Function.prototype.defer=function(d,f,b,a){var e=this.createDelegate(f,b,a);if(d){return setTimeout(e,d)}e();return 0}}if(typeof Function.prototype.createSequence!="function"){Function.prototype.createSequence=function(b,a){if(typeof b!="function"){return this}var d=this;return function(){var e=d.apply(this||window,arguments);b.apply(a||this||window,arguments);return e}}}if(typeof Function.prototype.createInterceptor!="function"){Function.prototype.createInterceptor=function(b,a){if(typeof b!="function"){return this}var d=this;return function(){b.target=this;b.method=d;if(b.apply(a||this||window,arguments)===false){return}return d.apply(this||window,arguments)}}}(function(){var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};if(typeof JSON=="undefined"){var s={array:function(x,r,w){var a=[],f,i,l=x.length,v;for(i=0;i<l;i++){v=x[i];f=s[typeof v];if(f){a.push(f(v,r,w))}}return"["+w+a.join(","+w)+w+"]"},"boolean":function(x){return String(x)},"null":function(x){return"null"},number:function(x){return isFinite(x)?String(x):"null"},object:function(x,r,w){if(x){if(x instanceof Array){return s.array(x,r,w)}var a=[],f,i,v;for(i in x){v=x[i];f=s[typeof v];if(f){v=f(v,r,w);a.push(s.string(i)+":"+v)}}return"{"+w+a.join(w)+w+"}"}return"null"},string:function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+x+'"'}};JSON={stringify:function(v,r,w){w=w||"";var f=isNaN(v)?s[typeof v]:s.number;if(f){return f(v,r,w)}},parse:function(v,safe){if(safe===undefined){safe=JSON.parse.safe}if(safe&&!/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)){return undefined}return eval("("+v+")")}};JSON.parse.safe=false}var ps=function(d,w){var s="";for(var i=0;i<d;i++){s+=w}return s};var pp={array:function(x,d,w){var a=[],f,i,l=x.length,v;if(l<1){return"[]"}for(i=0;i<l;i++){v=x[i];f=pp[typeof v];if(f){v=f(v,d+1,w);a.push(ps(d+1,w)+v)}}return"[\n"+a.join(",\n")+"\n"+ps(d,w)+"]"},"boolean":function(x){return String(x)},"null":function(x){return"null"},number:function(x){return isFinite(x)?String(x):"null"},object:function(x,d,w){if(x){if(x instanceof Array){return pp.array(x,d,w)}var a=[],f,i,v;for(i in x){v=x[i];f=pp[typeof v];if(f){v=f(v,d+1,w);a.push(ps(d+1,w)+pp.string(i)+": "+v)}}if(a.length<1){return"{}"}return"{\n"+a.join(",\n")+"\n"+ps(d,w)+"}"}return"null"},string:function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+x+'"'}};JSON.pprint=function(v,w){w=w||"  ";var f=isNaN(v)?pp[typeof v]:pp.number;if(f){return f(v,0,w)}return"undefined"}})();if(typeof Number.trim!="function"){Number.trim=function(e){if(typeof(e)!="string"){return e}var d="1234567890";var f="１２３４５６７８９０";var b=e.replace(/,/g,"").split("");for(i=0;i<b.length;i++){var a=f.indexOf(b[i]);if(a>=0){b[i]=d[a]}}return b.join("")}}if(typeof Number.parseInt!="function"){Number.parseInt=function(a,b){var d=parseInt(Number.trim(a),b);return isNaN(d)?0:d}}if(typeof Number.parseFloat!="function"){Number.parseFloat=function(a){var b=parseFloat(Number.trim(a));return isNaN(b)?0:b}}if(typeof Number.prototype.format!="function"){Number.prototype.format=function(a){return(new DecimalFormat(a)).format(this)}}function DecimalFormat(b){this.prefix="";this.suffix="";this.comma=0;this.minInt=1;this.minFrac=0;this.maxFrac=0;for(var f=0;f<b.length;f++){if(b.charAt(f)=="#"||b.charAt(f)=="0"){this.prefix=b.substring(0,f);b=b.substring(f);break}}this.suffix=b.replace(/[#]|[0]|[,]|[.]/g,"");var h=b.replace(/[^0#,.]/g,"");var g="";var e="";var a=h.indexOf(".");if(a!=-1){g=h.substring(0,a);e=h.substring(a+1)}else{g=h}var j=g.lastIndexOf(",");if(j!=-1){this.comma=g.length-1-j}g=g.replace(/[,]/g,"");e=e.replace(/[,]|[.]+/g,"");this.maxFrac=e.length;var d=g.replace(/[^0]/g,"");if(d.length>this.minInt){this.minInt=d.length}d=e.replace(/[^0]/g,"");this.minFrac=d.length}DecimalFormat.prototype.format=function(t){var u=this.parse(t).toLowerCase();if(isNaN(u)||u.length==0){return t}if(k=u.indexOf("e")!=-1){var d=Number(u);if(d=="Infinity"||d=="-Infinity"){return u}u=d+"";if(u.indexOf("e")!=-1){return u}}var f=false;if(u.charAt(0)=="-"){f=true;u=u.substring(1)}else{if(u.charAt(0)=="+"){u=u.substring(1)}}var r=u.indexOf(".");var a="";var p="";if(r!=-1){a=u.substring(0,r);p=u.substring(r+1)}else{a=u}p=p.replace(/[.]/,"");var m=this.suffix&&this.suffix.charAt(0)==="%";var b=this.minInt,e=this.minFrac,v=this.maxFrac;if(m){b-=2;e+=2;v+=2}if(p.length>v){var l=new Number("0."+p);l=(v==0)?Math.round(l):l.toFixed(v);p=l.toString(10).substr(2);var o=(l>=1)?1:0;var q,k=a.length-1;while(o){if(k==-1){a="1"+a;break}else{q=a.charAt(k);if(q==9){q="0";o=1}else{q=(++q)+"";o=0}a=a.substring(0,k)+q+a.substring(k+1,a.length);k--}}}for(var k=p.length;k<e;k++){p=p+"0"}while(p.length>e&&p.charAt(p.length-1)=="0"){p=p.substring(0,p.length-1)}for(var k=a.length;k<b;k++){a="0"+a}while(a.length>b&&a.charAt(0)=="0"){a=a.substring(1)}if(m){a+=p.substring(0,2);p=p.substring(2)}var g=0;for(var k=a.length;k>0;k--){if(g!=0&&g%this.comma==0){a=a.substring(0,k)+","+a.substring(k);g=0}g++}var h;if(p.length>0){h=this.prefix+a+"."+p+this.suffix}else{h=this.prefix+a+this.suffix}if(f){h="-"+h}return h};DecimalFormat.prototype.parse=function(f){f+="";if(!f){return""}if(!isNaN(f)){return this.getNumericString(f)}var b=f;var a=false;if(f.charAt(0)=="-"){b=b.substr(1);a=true}var e=b.indexOf(this.prefix);var d=(this.suffix=="")?b.length:b.indexOf(this.suffix,this.prefix.length+1);if(e==0&&d>0){b=b.substr(0,d);b=b.substr(this.prefix.length);b=b.replace(/,/g,"");if(a){b="-"+b}if(!isNaN(b)){return this.getNumericString(b)}}return f};DecimalFormat.prototype.getNumericString=function(e){var a=new Number(e);var d=a+"";if(e.indexOf(".")>-1&&d.indexOf(".")<0){for(var b=e.indexOf(".")+1;b<e.length;b++){if(e.charAt(b)!=="0"){return e}}return d}return e};if(typeof String.prototype.contains!="function"){String.prototype.contains=function(a){return this.indexOf(a)>=0}}if(typeof String.prototype.trimLeft!="function"){String.prototype.trimLeft=function(){var a=/^\s+/;return this.replace(a,"")}}if(typeof String.prototype.trimRight!="function"){String.prototype.trimRight=function(){var a=/\s+$/;return this.replace(a,"")}}if(typeof String.prototype.trim!="function"){String.prototype.trim=function(){var a=/^\s+|\s+$/g;return this.replace(a,"")}}if(typeof String.prototype.stripLeft!="function"){String.prototype.stripLeft=function(){var a=/^[\s\u3000]+/;return this.replace(a,"")}}if(typeof String.prototype.stripRight!="function"){String.prototype.stripRight=function(){var a=/[\s\u3000]+$/;return this.replace(a,"")}}if(typeof String.prototype.strip!="function"){String.prototype.strip=function(){var a=/^[\s\u3000]+|[\s\u3000]+$/g;return this.replace(a,"")}}if(typeof String.prototype.left!="function"){String.prototype.left=function(a){return this.substr(0,a)}}if(typeof String.prototype.mid!="function"){String.prototype.mid=String.prototype.substr}if(typeof String.prototype.right!="function"){String.prototype.right=function(a){if(a>=this.length){return this}return this.substr(this.length-a,a)}}if(typeof String.prototype.leftPad!="function"){String.prototype.leftPad=function(b,a){if(!b){b=" "}var d=this;while(d.length<a){d=b+d}return d}}if(typeof String.prototype.rightPad!="function"){String.prototype.rightPad=function(b,a){if(!b){b=" "}var d=this;while(d.length<a){d+=chr}return d}}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(b,a){return this.indexOf(b)==(a||0)}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(a){return this.startsWith(a,this.length-a.length)}}if(typeof String.prototype.capitalize!="function"){String.prototype.capitalize=function(){return this.substr(0,1).toUpperCase()+this.substr(1)}}if(typeof String.prototype.uncapitalize!="function"){String.prototype.uncapitalize=function(){return this.substr(0,1).toLowerCase()+this.substr(1)}}if(typeof String.prototype.format!="function"){String.prototype.format=function(){var a=arguments;return this.replace(/\{(\d+)\}/g,function(b,d){return a[d]})}}if(typeof String.prototype.size!="function"){String.prototype.size=function(b){var d=0;for(var a=0;a<this.length;a++){d++;if(this.charCodeAt(a)>255){d++}}return d}}if(typeof String.prototype.ellipsis!="function"){String.prototype.ellipsis=function(a){if(this.length>a){return this.substr(0,a-3)+"..."}return this}}if(typeof String.prototype.ellipsiz!="function"){String.prototype.ellipsiz=function(a){var d=0;for(var b=0;b<this.length;b++){d++;if(this.charCodeAt(b)>255){d++}if(d>a){return this.substring(0,b)+"..."}}return this}}if(typeof String.prototype.escapeRegExp!="function"){String.prototype.escapeRegExp=function(){return this.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}}if(typeof String.prototype.escapeHtml!="function"){String.prototype.escapeHtml=function(){return this.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}}if(typeof String.prototype.unescapeHtml!="function"){String.prototype.unescapeHtml=function(){return this.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}}if(typeof String.prototype.escapePhtml!="function"){String.prototype.escapePhtml=function(){return this.escapeHtml().replace(/\n/g,"<br/>")}}if(typeof String.prototype.unescapePhtml!="function"){String.prototype.unescapePhtml=function(){return this.replace(/<br\/>/g,"\n").unescapeHtml()}}if(typeof String.prototype.prettifyXml!="function"){String.prototype.prettifyXml=function(){var b="";var h=/(>)(<)(\/*)/g;var d=this.replace(h,"$1\r\n$2$3");var j=0;var f=d.split("\r\n");for(var e=0;e<f.length;e++){var g=f[e];var a=0;if(g.match(/.+<\/\w[^>]*>$/)){a=0}else{if(g.match(/^<\/\w/)){if(j!=0){j-=1}}else{if(g.match(/^<\w[^>]*[^\/]>.*$/)){a=1}else{a=0}}}b+=("").leftPad(" ",j*2)+g+"\r\n";j+=a}return b}}if(typeof String.prototype.encodeUtf8!="function"){String.prototype.encodeUtf8=function(){string=this.replace(/rn/g,"\n");var a="";for(var d=0;d<string.length;d++){var b=string.charCodeAt(d);if(b<128){a+=String.fromCharCode(b)}else{if((b>127)&&(b<2048)){a+=String.fromCharCode((b>>6)|192);a+=String.fromCharCode((b&63)|128)}else{a+=String.fromCharCode((b>>12)|224);a+=String.fromCharCode(((b>>6)&63)|128);a+=String.fromCharCode((b&63)|128)}}}return a}}if(typeof String.prototype.decodeUtf8!="function"){String.prototype.decodeUtf8=function(){var a="";var b=0;var d=c1=c2=0;while(b<this.length){d=this.charCodeAt(b);if(d<128){a+=String.fromCharCode(d);b++}else{if((d>191)&&(d<224)){c2=this.charCodeAt(b+1);a+=String.fromCharCode(((d&31)<<6)|(c2&63));b+=2}else{c2=this.charCodeAt(b+1);c3=this.charCodeAt(b+2);a+=String.fromCharCode(((d&15)<<12)|((c2&63)<<6)|(c3&63));b+=3}}}return a}}if(typeof String.prototype.encodeBase64!="function"){String.prototype.encodeBase64=function(){if(typeof btoa==="function"){return btoa(this)}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b;var e;var a=0;var d="";while(this.length>=a+3){b=(this.charCodeAt(a++)&255)<<16|(this.charCodeAt(a++)&255)<<8|this.charCodeAt(a++)&255;d+=f.charAt((b&16515072)>>18)+f.charAt((b&258048)>>12)+f.charAt((b&4032)>>6)+f.charAt((b&63))}if(this.length-a>0&&this.length-a<3){e=Boolean(this.length-a-1);b=((this.charCodeAt(a++)&255)<<16)|(e?(this.charCodeAt(a)&255)<<8:0);d+=f.charAt((b&16515072)>>18)+f.charAt((b&258048)>>12)+(e?f.charAt((b&4032)>>6):"=")+"="}return(d)}}if(typeof String.prototype.decodeBase64!="function"){String.prototype.decodeBase64=function(){if(typeof atob==="function"){return atob(this)}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var d,a="";for(var b=0;b<this.length;b+=4){d=(e.indexOf(this.charAt(b))&255)<<18|(e.indexOf(this.charAt(b+1))&255)<<12|(e.indexOf(this.charAt(b+2))&255)<<6|e.indexOf(this.charAt(b+3))&255;a+=String.fromCharCode((d&16711680)>>16,(d&65280)>>8,d&255)}if(this.charCodeAt(b-2)==61){return(a.substring(0,a.length-2))}else{if(this.charCodeAt(b-1)==61){return(a.substring(0,a.length-1))}else{return(a)}}}}if(typeof String.prototype.queryParams!="function"){String.prototype.queryParams=function(h){var a=[],e=this,d=e.indexOf("?");if(d>=0){e=e.substring(d+1)}var b=e.split("&");for(d=0;d<b.length;d++){var g=b[d].split("=");var j=decodeURIComponent(g[0]);if(h!=j){a.push({name:j,value:g.length>1?decodeURIComponent(g[1]):""})}}return a}}if(typeof String.defaults!="function"){String.defaults=function(a,b){return a==null?b:a}}if(typeof String.isEmpty!="function"){String.isEmpty=function(a){return a==null||a.length<1}}if(typeof String.isNotEmpty!="function"){String.isNotEmpty=function(a){return a!=null&&a.length>0}}if(typeof String.leftPad!="function"){String.leftPad=function(d,b,a){return d!=null?String(d).leftPad(b,a):"".leftPad(b,a)}}if(typeof String.rightPad!="function"){String.rightPad=function(d,b,a){return s!=null?String(s).rightPad(b,a):"".rightPad(b,a)}}if(typeof String.ellipsis!="function"){String.ellipsis=function(b,a){return b!=null?String(b).ellipsis(a):""}}if(typeof String.ellipsiz!="function"){String.ellipsiz=function(b,a){return b!=null?String(b).ellipsiz(a):""}}if(typeof String.escapeHtml!="function"){String.escapeHtml=function(a){return a!=null?String(a).escapeHtml():""}}if(typeof String.unescapeHtml!="function"){String.unescapeHtml=function(a){return a!=null?String(a).unescapeHtml():""}}if(typeof String.escapePhtml!="function"){String.escapePhtml=function(a){return a!=null?String(a).escapePhtml():""}}if(typeof String.unescapePhtml!="function"){String.unescapePhtml=function(a){return a!=null?String(a).unescapePhtml():""}}if(typeof String.prettifyXml!="function"){String.prettifyXml=function(a){return a!=null?String(a).prettifyXml():""}}if(typeof String.encodeUtf8!="function"){String.encodeUtf8=function(a){return a!=null?String(a).encodeUtf8():""}}if(typeof String.decodeUtf8!="function"){String.decodeUtf8=function(a){return a!=null?String(a).decodeUtf8():""}}if(typeof String.encodeBase64!="function"){String.encodeBase64=function(a){return a!=null?String(a).encodeBase64():""}}if(typeof String.decodeBase64!="function"){String.decodeBase64=function(a){return a!=null?String(a).decodeBase64():""}}if(typeof String.escapeRegExp!="function"){String.escapeRegExp=function(a){return a!=null?String(a).escapeRegExp():""}}if(typeof String.queryParams!="function"){String.queryParams=function(a){return a!=null?String(a).queryParams(a):[]}}if(typeof String.formatSize!="function"){var KB=1024;var MB=KB*KB;var GB=MB*KB;var TB=GB*KB;var PB=TB*KB;String.formatSize=function(b){var a="";if(b>=PB){a=Math.round(b/PB)+" PB"}else{if(b>=TB){a=Math.round(b/TB)+" TB"}else{if(b>=GB){a=Math.round(b/GB)+" GB"}else{if(b>=MB){a=Math.round(b/MB)+" MB"}else{if(b>=KB){a=Math.round(b/KB)+" KB"}else{if(b!=""){a=b+" bytes"}}}}}}return a}}if(typeof(panda)=="undefined"){panda={}}(function(){function b(e,f){if(f=="error"){if(!e.hasClass("error")){e.addClass("error").removeClass("warn help info")}}else{if(f=="warn"){if(!e.hasClass("error")&&!e.hasClass("warn")){e.addClass("warn").removeClass("help info")}}else{if(f=="confirm"){if(!e.hasClass("error")&&!e.hasClass("warn")&&!e.hasClass("help")){e.addClass("help").removeClass("info")}}else{if(!e.hasClass("error")&&!e.hasClass("warn")&&!e.hasClass("help")&&!e.hasClass("info")){e.addClass("info")}}}}}function a(g,j,f,h){var e=j.icons[h];g.append('<ul class="'+j.ulCls+'"><li><i class="'+e+'"></i>'+f+"</li></ul>");b(g,h)}function d(l,q,g,p){if(g){var e=q.icons[p]+" "+c;var k='<ul class="'+q.ulCls+'">';if($.isArray(g)){for(var j=0;j<g.length;j++){k+='<li><i class="'+e+'"></i>'+g[j]+"</li>"}}else{for(var f in g){var o=g[f];for(var j=0;j<o.length;j++){k+='<li><i class="'+e+'"></i>'+o[j]+"</li>"}}}k+="</ul>";l.append(k);b(l,p)}}panda.alert=function(e){if(typeof(e)=="string"){e={container:e}}e=$.extend({},panda.alert.defaults,e);return{clear:function(){$(e.container).children(".alert").remove();return this},error:function(f){this.add(f,"error");return this},warn:function(f){this.add(f,"warn");return this},promt:function(f){this.add(f,"help");return this},info:function(f){this.add(f,"info");return this},add:function(f,k){k=k||"info";var l=$(e.container);var h=l.children(".alert");var g=false;if(h.size()<1){h=$("<div></div>").addClass("alert alert-dismissable").css("display","none");l.prepend(h);h.append('<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>');g=true}if(typeof(f)=="string"){a(h,e,f,k)}else{if($.isArray(f)){for(var j=0;j<f.length;j++){if(typeof(f[j])=="string"){a(h,e,f[j],k)}else{a(h,e,f[j].html,f[j].type)}}}else{if(f){d(h,e,f.actionErrors,"error");d(h,e,f.fieldErrors,"error");d(h,e,f.actionWarnings,"warn");d(h,e,f.actionConfirms,"help");d(h,e,f.actionMessages,"info")}}}if(g){h.slideDown()}return this}}};panda.alert.defaults={container:"body",ulCls:"fa-ul",icons:{help:"fa-li fa fa-question-circle",info:"fa-li fa fa-info-circle",error:"fa-li fa fa-times-circle",warn:"fa-li fa fa-exclamation-triangle",down:"fa-caret-down",up:"fa-caret-up"}};panda.alert.toggleFieldErrors=function(f){var h=$(f).closest(".p-action-errors").next(".p-field-errors");var g=panda.alert.defaults.icons.down;var e=panda.alert.defaults.icons.up;if(h.is(":hidden")){h.slideDown();$(f).children("i").removeClass(g).addClass(e)}else{h.slideUp();$(f).children("i").removeClass(e).addClass(g)}return false}})();if(typeof(pw)=="undefined"){pw={}}function nlv_options(e,a){var d=document.getElementById(e);for(var b in a){d[b]=a[b]}}function nlv_getForm(a){return document.getElementById(a+"_form")}function nlv_getBForm(a){return document.getElementById(a+"_bform")}function nlv_submitBForm(e,b,d){$("#"+e).loadmask();var a=nlv_getBForm(e);if(b){if(typeof(b)=="string"){a.action=b}else{if(!d){d=b}}}if(d){for(n in d){$('<input type="hidden" name="'+n+'"/>').val(d[n]).appendTo(a)}}a.submit();return false}function nlv_submitCheckedRows(d,a,b){if(nlv_enableCheckedValues(d)>0){nlv_submitBForm(d,a,b)}return false}function nlv_submitCheckedKeys(d,a,b){if(nlv_enableCheckedKeys(d)>0){nlv_submitBForm(d,a,b)}return false}function nlv_enableCheckedValues(d,a){var b=0;$("#"+d+" .n-lv-tbody input.n-lv-cb").each(function(){if(this.checked){b++;if(a){$(this).closest("tr").find("input.n-lv-cv").each(function(){var e=_nlv_getPropertyName(this.name);if(a==e||a.contains(e)){this.disabled=false}})}else{$(this).closest("tr").find("input.n-lv-cv").prop("disabled",false)}}else{$(this).closest("tr").find("input.n-lv-cv").prop("disabled",true)}});return b}function nlv_enableCheckedKeys(b){var a=0;$("#"+b+" .n-lv-tbody input.n-lv-cb").each(function(){if(this.checked){a++}$(this).closest("tr").find("input.n-lv-ck").prop("disabled",!this.checked)});return a}function nlv_getRowData(a){var b={};$(a).find("input.n-lv-cv").each(function(){var d=_nlv_getPropertyName(this.name);b[d]=this.value});return b}function _nlv_getPropertyName(b){var a=b.lastIndexOf(".");if(a>=0){b=b.substring(a+1)}return b}function nlv_getTBodyRows(a){return $("#"+a+" .n-lv-tbody > tr")}function nlv_checkAll(d,a){if(typeof(a)=="undefined"){a=true}var b=$("#"+d);_nlv_setCheckAll(b,a,true)}function nlv_checkRow(e,d,b){if(typeof(b)=="undefined"){b=true}var a=$("#"+e+" .n-lv-tbody > tr");_nlv_selectRow(a.eq(d),b)}function _nlv_init_filters(b,a){$("#"+b).find(".n-lv-filters").fieldset({collapse:a}).find(".n-tr-input").each(function(){if($(this).hasClass("n-hidden")){$(this).find("input,select,textarea").prop("disabled",true)}}).end().find("form").submit(function(){$("#"+b).loadmask()})}function _nlv_init_table(b,h){var d=$("#"+b);if(h.autosize&&!($.browser.ios||$.browser.android)){d.addClass("n-lv-autosize");var l=d.children(".n-lv-body").autosize();var k=d.find(".n-lv-thead");var g=k.clone();g.find("tr").append('<th><div class="n-lv-cell-last"></div></th>');var j=$('<table class="n-table"></table>').css("visibility","hidden").append(g);k.removeClass("n-lv-thead").addClass("n-lv-thead-shadow");k.parent().css("margin-top",-1-k.outerHeight()+"px");$('<div class="n-lv-body-head n-table-wrapper"></div>').append(j).insertBefore(l).autosize({overflow:"hidden",callback:function(){var o=g.find(".n-lv-cell");var m=k.find(".n-lv-cell");o.each(function(r){var t=m.eq(r);if(!t.parent().is(":hidden")){var q=t.width();var p=t.parent().width();$(this).width(q>=p?q:p+1)}});j.css("visibility","visible")}});l.scroll(function(){j.css("margin-left",-1-l.scrollLeft()+"px")})}d.find(".n-lv-thead > tr > th").each(function(){var m=$(this);if(m.hasClass("n-lv-sortable")){m.click(function(){_nlv_onThClick.call(this,b)});if($.browser.msie&&$.browser.majorVersion<7){m.mouseenter(_nlv_onThMouseEnter).mouseleave(_nlv_onThMouseLeave)}}});var a=0;var f=0;var e=d.find(".n-lv-tbody");e.click(_nlv_onTBodyClick).find("input.n-lv-cb").each(function(){_nlv_selectRow($(this).closest("tr"),this.checked);if(this.checked){a++}else{f++}});if($.browser.msie&&$.browser.majorVersion<7){e.mouseover(_nlv_onTBodyMouseOver).mouseout(_nlv_onTBodyMouseOut)}d.find(".n-lv-thead input.n-lv-ca").click(_nlv_onAllCheck).prop("checked",(a>0&&f==0))}function _nlv_sort(e,d){$("#"+e).loadmask();var b=document.getElementById(e+"_sort");var a=document.getElementById(e+"_dir");if(d==b.value){a.value=(a.value.toLowerCase()=="asc"?"desc":"asc")}else{b.value=d;a.value="asc"}document.getElementById(e+"_submit").click()}function _nlv_goto(b,a){$("#"+b).loadmask();document.getElementById(b+"_form").reset();document.getElementById(b+"_start").value=a;document.getElementById(b+"_submit").click()}function _nlv_limit(b,a){$("#"+b).loadmask();document.getElementById(b+"_limit").value=a;document.getElementById(b+"_submit").click()}function _nlv_clearFieldValue(){switch(this.tagName){case"INPUT":switch(this.type){case"radio":case"checkbox":this.checked=false;break;case"text":this.value="";break}break;case"SELECT":if(!this.name.endsWith(".c")){this.selectedIndex=0}break;case"TEXTAREA":this.value="";break}}function _nlv_selectRow(a,b){if(b){a.addClass("n-selected n-lv-selected").find("input.n-lv-cb").prop("checked",b)}else{a.removeClass("n-selected n-lv-selected").find("input.n-lv-cb").prop("checked",b)}}function _nlv_toggleRow(d,b){var e=d.closest("div.n-lv");if(e.get(0).singleSelect||e.attr("singleSelect")=="true"){if(d.hasClass("n-lv-selected")){if(b||!(e.get(0).toggleSelect===false||e.attr("toggleSelect")==="false")){_nlv_selectRow(d,false)}}else{_nlv_selectRow(e.find("tr.n-lv-selected"),false);_nlv_selectRow(d,true)}}else{if(d.hasClass("n-lv-selected")){_nlv_selectRow(d,false)}else{_nlv_selectRow(d,true)}}var a=true;e.find(".n-lv-tbody input.n-lv-cb").each(function(){if(!this.checked){a=false;return false}});_nlv_setCheckAll(e,a)}function _nlv_onBetweenChange(b){var f=$(b),e=f.val()!="bt",a=e?"hidden":"visible";if(e){f.nextAll("INPUT").val("")}f.nextAll().css("visibility",a)}function _nlv_onAddFilter(a){if(a.selectedIndex>0){$(a).closest(".n-lv-filters").find(".n-lv-fsi-"+a.value).removeClass("n-hidden").find("input,select,textarea").prop("disabled",false).end().end().fieldset("expand");a.options[a.selectedIndex].disabled=true;a.selectedIndex=0}return false}function _nlv_onDelFilter(a,b){$(a).closest(".n-lv-filters").find(".n-lv-fsi-"+b).addClass("n-hidden").find("input,select,textarea").prop("disabled",true).each(_nlv_clearFieldValue).end().find(".n-label-error").removeClass("n-label-error").end().find(".n-field-errors").remove().end().end().find(".n-lv-fs-select>option[value="+b+"]").prop("disabled",false)}function _nlv_onClearFilters(a){$(a).closest(".n-lv-filters-t").find(".n-field-errors").remove().end().find(".n-label-error").removeClass("n-label-error").end().find("input,select,textarea").each(_nlv_clearFieldValue);return false}function _nlv_onThClick(b){var a=$(this).attr("column");_nlv_sort(b,a)}function _nlv_setCheckAll(d,a,b){d.find(".n-lv-thead input.n-lv-ca").each(function(){this.checked=a;this.title=$(this).attr(a?"selectNone":"selectAll")});d.find(".n-lv-cab").each(function(){var e=$(this);e.prop("checked",a).find(".n-button-icon").removeClass(e.attr(a?"iconSelectAll":"iconSelectNone")).addClass(e.attr(a?"iconSelectNone":"iconSelectAll")).end().find(".n-button-text").text(e.attr(a?"textSelectNone":"textSelectAll"))});if(b){d.find(".n-lv-tbody > tr").each(function(){_nlv_selectRow($(this),a)})}}function _nlv_onAllCheck(){var b=this.checked;var a=$(this).closest(".n-lv");_nlv_setCheckAll(a,b,true)}function _nlv_onAllClick(a){var d=!($(a).prop("checked")||false);var b=$(a).closest(".n-lv");_nlv_setCheckAll(b,d,true)}function _nlv_onTBodyClick(a){var f=$(a.target);var d=f.closest("tr");if(f.hasClass("n-lv-cb")){a.stopPropagation();_nlv_toggleRow(d,true);return}if(d.size()>0){_nlv_toggleRow(d);var e=d.closest("div.n-lv");var b=e.get(0).onrowclick||e.attr("onrowclick");switch(typeof(b)){case"function":b.call(d.get(0));break;case"string":b=new Function(b);b.call(d.get(0));break}}}function _nlv_onThMouseEnter(){$(this).addClass("ui-state-hover n-lv-hover");return false}function _nlv_onThMouseLeave(){$(this).removeClass("ui-state-hover n-lv-hover");return false}function _nlv_onTBodyMouseOver(a){$(a.target).closest("tr.n-lv-tr").addClass("ui-state-hover n-lv-hover");return false}function _nlv_onTBodyMouseOut(a){$(a.target).closest("tr.n-lv-tr").removeClass("ui-state-hover n-lv-hover");return false}if(typeof(pw)=="undefined"){pw={}}(function(){function _click(evt){var $el=$(this);if(!$el.hasClass("n-p-disabled")){var pn=$el.attr("pageno");if(pn){var $pg=$el.closest("div.n-p");var cmd=$pg.attr("click").replace("#",(pn-1)*$pg.attr("limit"));eval(cmd)}}}pw.pager=function(o){var $p=$(o);if($p.attr("pager")!="true"){$p.attr("pager","true");var $pn=$p.find(".n-p-pageno, .n-p-prev, .n-p-next, .n-p-first, .n-p-last, .n-p-active");if($p.attr("click")){$pn.click(_click)}}this.$el=$p;this.has=function(n){return this.$el.find("[pageno="+n+"]").size()>0};this.val=function(n){this.$el.find(".n-p-active").removeClass("n-p-active").addClass("n-p-pageno").click(_click);this.$el.find(".n-p-pageno[pageno="+n+"]").unbind().removeClass("n-p-pageno").addClass("n-p-active");if(n<=1){this.$el.find(".n-p-prev").children().attr("pageno",n-1).end().parent().hide()}else{this.$el.find(".n-p-prev").children().attr("pageno",n-1).end().parent().show()}if(n>=this.$el.attr("total")){this.$el.find(".n-p-next").children().attr("pageno",n+1).end().parent().hide()}else{this.$el.find(".n-p-next").children().attr("pageno",n+1).end().parent().show()}return this};return this}})();if(typeof(panda)=="undefined"){panda={}}panda.upload=function(t){var t=t;var w=$("#"+t);var v=w.attr("uploadAction");var h=w.attr("uploadParam");var y=w.attr("dnloadAction");var r=w.attr("dnloadParam");var u=w.attr("defaultLink");var o=w.attr("defaultText");var p=w.children(".n-uploader-file");var g=w.children(".n-uploader-progress");var q=w.children(".n-uploader-error");var m=w.children(".n-uploader-image");var b=w.children(".n-uploader-text");var e=w.children(".n-uploader-ct");var k=w.children(".n-uploader-fn");var f=w.children(".n-uploader-fs");var x=w.children(".n-uploader-sn");function l(z){var A=String.formatSize(z);if(A.length>0){A="("+A+")"}return A}function j(B,C,A,z){B=B||e.val();C=C||k.val();A=A||f.val();z=z||x.val();if(C){if(z){b.html('<a class="n-a n-a-it" href="'+y+"?"+r+"="+encodeURIComponent(z)+'"><em class="ui-icon ui-icon-check n-a-icon n-uploader-icon"></em>'+C+" "+l(A)+"</a>")}else{b.html('<span><em class="ui-icon ui-icon-check n-a-icon n-uploader-icon"></em>'+C+" "+l(A)+"</span>")}b.show()}else{if(u){b.html('<a class="n-a'+(String.isEmpty(o)?" n-a-io":" n-a-it")+'" href="'+u+'"><em class="n-icon '+(B.startsWith("image")?"n-icon-file_img":"n-icon-attach")+' n-a-icon n-uploader-icon"></em>'+String.defaults(o)+"</a>").show()}}if(z&&B.startsWith("image")){m.html('<img src="'+y+"?"+r+"="+z+'"></img>').fadeIn()}else{if(u&&B.startsWith("image")){m.html('<img src="'+u+'"></img>').fadeIn()}}}function d(B,C,A,z){b.html('<span><em class="ui-icon ui-icon-close n-uploader-icon"></em>'+((C||p.val())+" "+l(A))+"</span>").show()}function a(){var z=0;e.val("");k.val("");f.val("");x.val("");q.hide().empty();m.hide().empty();b.hide().empty();p.hide();g.css({width:p.width()+"px",height:Math.floor(p.height()*0.8)+"px"}).show().progressbar("value",z);var C=setInterval(function(){g.progressbar("value",z++);if(z>=90){if(C){clearInterval(C);C=null}}},20);function B(){p=w.children(".n-uploader-file");z=100;g.progressbar("value",z).css({display:"none"});p.show()}var A={};A[h]=p;$.ajaf({url:v,file:A,dataType:"json",success:function(E){B();var D=E[h];if(E.success){e.val(D.contentType);k.val(D.fileName);f.val(D.fileSize);x.val(D.saveName);j()}else{d(D.contentType,D.fileName,D.fileSize,D.saveName);panda.alert({container:q}).add(E);q.slideDown()}},error:function(F,D,E){B();panda.alert({container:q}).error((E?"<pre>"+(E+"").escapeHtml()+"</pre>":(F?F.responseText:D)));q.slideDown()}})}j();g.hide().progressbar();p.change(function(){setTimeout(a,10)})};if(typeof(panda)=="undefined"){panda={}}panda.viewfield=function(b){var a={el:$(b),val:function(d){if(typeof(d)=="undefined"){return this.el.val()}else{this.el.val(d).next().text(d);return this}}};return a};